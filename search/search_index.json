{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Azure Professional Services SOPs","text":"<p>Your single source of truth. </p>"},{"location":"#active-sops","title":"Active SOPs","text":"<ul> <li>Virtual Networking \u2013 Hub &amp; Spoke</li> </ul>"},{"location":"networking/sop-virtual-networking-hub-spoke/","title":"SOP \u2013 Azure Virtual Networking (Hub-Spoke Topology)","text":"<p>Version: 1.0 | Valid as of: Nov 2025 Owner: Azure Networking CoE | Review cycle: Every 6 months</p>"},{"location":"networking/sop-virtual-networking-hub-spoke/#objective","title":"Objective","text":"<p>Deploy a production-grade, CAF/WAF-aligned Hub-Spoke topology that is repeatable, secure-by-default, and policy-enforced in every customer landing zone.</p>"},{"location":"networking/sop-virtual-networking-hub-spoke/#scope","title":"Scope","text":"<p>Mandatory for ALL new Azure environments and any brownfield refactoring.</p>"},{"location":"networking/sop-virtual-networking-hub-spoke/#prerequisites","title":"Prerequisites","text":"<ul> <li>Subscription placed under correct Management Group (Connectivity or Landing Zones)  </li> <li>Azure Policy \u201cDeploy Landing Zone \u2013 Networking\u201d initiative assigned  </li> <li>Engineer has Contributor + User Access Administrator on the subscription  </li> <li>IaC templates from official repo (Bicep or Terraform)</li> </ul>"},{"location":"networking/sop-virtual-networking-hub-spoke/#step-by-step-deployment","title":"Step-by-Step Deployment","text":"Step Action Tool Key Details / Success Criteria 1 Deploy Hub VNet Bicep/Terraform module Address space: e.g., 10.100.0.0/22Subnets: AzureBastion, AzureFirewall, GatewaySubnet (optional), JumpBox 2 Deploy Azure Firewall Premium + Firewall bu\u1ed5i Policy Same module Firewall Healthy, default DNAT/SNAT/App rules in place 3 Enable DDoS Standard Protection Plan Portal or IaC Plan linked to Hub VNet 4 Deploy Spoke VNet(s) Spoke module Minimum subnets: Application (/24), Database (/24), PrivateEndpoints (/26) 5 VNet Peering (bidirectional) Automatic in module Status = Connected both directionsAllow forwarded traffic = YesUse remote gateways = Yes (hub side) 6 Route Tables &amp; UDRs Automatic 0.0.0.0/0 \u2192 AzureFirewall private IP on all spoke subnetsRFC1918 propagated if ER/VPN present 7 Private DNS Resolver (or DNS forwarders) in Hub Module All spokes use Hub resolver 8 Deploy mandatory privatelink.* DNS zones &amp; VNet links Module Zones linked to Hub + all Spokes 9 Run Azure Policy compliance check Portal 100% compliant with Networking initiative 10 Validate effective routes &amp; NSG flow Network Watcher Traffic to internet \u2192 Firewall, PaaS \u2192 Private Endpoint"},{"location":"networking/sop-virtual-networking-hub-spoke/#mandatory-naming-convention","title":"Mandatory Naming Convention","text":"<p>vnet--hub--001 vnet--spoke---001 fw--hub--001 rt--spoke--default-001"},{"location":"networking/sop-virtual-networking-hub-spoke/#post-deployment-checklist-copy-into-ticket","title":"Post-Deployment Checklist (copy into ticket)","text":"<ul> <li>[ ] Hub &amp; Spoke VNets created  </li> <li>[ ] Azure Firewall Healthy  </li> <li>[ ] Peerings Connected both directions  </li> <li>[ ] 0.0.0.0/0 \u2192 Firewall on all spokes  </li> <li>[ ] Private DNS zones linked to all VNets  </li> <li>[ ] Azure Policy = 100% compliant  </li> <li>[ ] Topology diagram updated in repo  </li> <li>[ ] Customer sign-off obtained</li> </ul>"},{"location":"networking/sop-virtual-networking-hub-spoke/#approved-variations-need-architect-approval","title":"Approved Variations (need architect approval)","text":"Scenario Allowed? Alternative Third-party NVA (Palo Alto, etc.) Yes Replace AzFW module Multi-region connectivity Yes Global peering + regional firewalls Existing ExpressRoute/VPN Yes Add GatewaySubnet + BGP propagation"},{"location":"networking/sop-virtual-networking-hub-spoke/#rollback-steps","title":"Rollback Steps","text":"<ol> <li>Delete workload resources in spokes  </li> <li>Remove spoke \u2192 hub peering  </li> <li>Delete spoke VNet  </li> <li>(Full rollback) Delete subscription-level deployment</li> </ol>"}]}